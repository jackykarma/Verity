---
name: effort-estimation
description: 对 Android 需求进行早期工作量预估，分析 UI、算法、数据、第三方库和业务逻辑复杂度，输出详细的任务分解和时间估算。当用户提到需求评估、工作量预估、时间估算、开发成本、需求分析、Epic 或 Feature 规划时使用。
---

# 需求工作量预估

对 Android 项目需求进行系统化的早期工作量预估，帮助个人开发者在需求规划阶段快速评估开发成本。

## 评估流程

### 阶段 1: 需求信息收集

首先收集关键需求信息：

**必需信息:**
- 功能核心描述（1-2 段文字）
- 目标用户场景
- 关键功能点列表

**可选信息:**
- 相似功能参考（如有）
- 技术栈偏好或限制
- 质量标准要求（如性能、可靠性等）

如果信息不足，优先询问：
1. 这个功能的核心价值是什么？
2. 有哪些必须实现的关键功能点？
3. 有没有特殊的技术要求或限制？

### 阶段 2: 多维度复杂度分析

按以下维度评估复杂度（1-5 分，1=简单，5=非常复杂）：

#### 1. UI/UX 复杂度
- **简单 (1-2 分)**: 标准控件，单一屏幕，无动画
- **中等 (3 分)**: 多屏幕导航，基础动画，自定义样式
- **复杂 (4-5 分)**: 自定义控件，复杂动画，手势交互，响应式布局

#### 2. 数据存储和处理
- **简单 (1-2 分)**: SharedPreferences，少量数据，无复杂查询
- **中等 (3 分)**: Room 数据库，中等数据量，基础查询
- **复杂 (4-5 分)**: 复杂数据模型，数据迁移，大数据量，复杂查询优化

#### 3. 算法实现难度
- **简单 (1-2 分)**: CRUD 操作，简单排序/过滤
- **中等 (3 分)**: 中等复杂度算法（如搜索、基础统计）
- **复杂 (4-5 分)**: 高级算法（如图算法、机器学习、复杂调度）

#### 4. 第三方库集成
- **简单 (1-2 分)**: 成熟稳定库，文档完善，无定制需求
- **中等 (3 分)**: 需要配置调优，可能有兼容性问题
- **复杂 (4-5 分)**: 深度定制，多库协同，版本冲突风险高

#### 5. 业务逻辑实现
- **简单 (1-2 分)**: 直线流程，少量判断，无复杂状态
- **中等 (3 分)**: 多分支逻辑，中等状态管理
- **复杂 (4-5 分)**: 复杂工作流，多状态机，异步协调，边界条件多

### 阶段 3: 任务分解

将功能分解为可执行的任务模块，按标准 Android 开发流程：

```markdown
## 任务分解

### 1. 架构设计与技术选型 (X 小时)
- 数据模型设计
- 技术方案选型
- 接口设计

### 2. UI 层开发 (X 小时)
- 布局实现: [具体屏幕列表]
- 自定义控件: [如有]
- 动画和交互

### 3. 业务逻辑层 (X 小时)
- [核心业务流程 1]
- [核心业务流程 2]
- 状态管理

### 4. 数据层 (X 小时)
- 数据库设计与实现
- Repository 层
- 数据同步逻辑

### 5. 第三方集成 (X 小时)
- [第三方库 1] 集成
- [第三方库 2] 集成

### 6. 测试 (X 小时)
- 单元测试
- UI 测试
- 集成测试

### 7. 优化与调试 (X 小时)
- 性能优化
- Bug 修复
- 代码重构
```

### 阶段 4: 工作量估算

#### 基准工时参考（个人开发者）

| 复杂度 | UI/屏幕 | 数据模型 | 算法实现 | 第三方集成 | 业务流程 |
|--------|---------|----------|----------|-----------|----------|
| 简单 (1-2) | 2-4h | 1-2h | 1-3h | 1-2h | 2-4h |
| 中等 (3) | 4-8h | 2-4h | 3-8h | 2-4h | 4-8h |
| 复杂 (4-5) | 8-16h | 4-8h | 8-20h | 4-8h | 8-16h |

#### 计算公式

```
核心开发工时 = Σ(各维度复杂度对应的基准工时)
测试工时 = 核心开发工时 × 0.3
优化调试 = 核心开发工时 × 0.2
总工时 = 核心开发工时 + 测试工时 + 优化调试

乐观估计 = 总工时 × 0.8
标准估计 = 总工时
悲观估计 = 总工时 × 1.5
```

### 阶段 5: 风险评估

识别并量化关键风险：

#### 风险矩阵

| 风险类型 | 概率 | 影响 | 缓解策略 |
|----------|------|------|----------|
| 技术难度超预期 | 高/中/低 | 高/中/低 | [具体措施] |
| 第三方库问题 | 高/中/低 | 高/中/低 | [具体措施] |
| 需求理解偏差 | 高/中/低 | 高/中/低 | [具体措施] |
| 技术债务积累 | 高/中/低 | 高/中/低 | [具体措施] |

**风险缓冲时间计算:**
- 高风险项（概率×影响≥6）: 增加 30-50% 时间缓冲
- 中风险项（概率×影响=3-5）: 增加 15-30% 时间缓冲
- 低风险项（概率×影响≤2）: 增加 5-15% 时间缓冲

### 阶段 6: 输出评估报告

使用以下模板输出最终评估报告：

```markdown
# [功能名称] 工作量评估报告

## 1. 需求概述
[1-2 段简要描述]

## 2. 复杂度评分

| 维度 | 评分 | 说明 |
|------|------|------|
| UI/UX | X/5 | [简要说明] |
| 数据处理 | X/5 | [简要说明] |
| 算法实现 | X/5 | [简要说明] |
| 第三方集成 | X/5 | [简要说明] |
| 业务逻辑 | X/5 | [简要说明] |

**总体复杂度**: X/5

## 3. 任务分解

[详细的任务列表，见阶段 3 模板]

## 4. 工作量估算

### 开发工时明细

| 任务模块 | 预估工时 |
|----------|----------|
| 架构设计 | X h |
| UI 层 | X h |
| 业务逻辑 | X h |
| 数据层 | X h |
| 第三方集成 | X h |
| 测试 | X h |
| 优化调试 | X h |
| **总计** | **X h** |

### 工时区间

- **乐观估计**: X 小时 (约 X 天)
- **标准估计**: X 小时 (约 X 天) ⭐ 推荐
- **悲观估计**: X 小时 (约 X 天)

> 注：按每天实际编码 4-6 小时计算

## 5. 关键风险

| 风险 | 概率 | 影响 | 缓解策略 | 时间缓冲 |
|------|------|------|----------|----------|
| [风险 1] | 高/中/低 | 高/中/低 | [策略] | +X% |
| [风险 2] | 高/中/低 | 高/中/低 | [策略] | +X% |

**建议总缓冲时间**: +X%

## 6. 技术依赖

- **核心依赖**: [必需的第三方库或技术]
- **可选依赖**: [可以提升效率的工具]
- **学习成本**: [需要学习的新技术]

## 7. 里程碑建议

- **阶段 1 (30%)**: [里程碑描述] - 预计 X 天
- **阶段 2 (60%)**: [里程碑描述] - 预计 X 天
- **阶段 3 (90%)**: [里程碑描述] - 预计 X 天
- **阶段 4 (100%)**: [里程碑描述] - 预计 X 天

## 8. 建议与注意事项

- ⚠️ [关键风险点]
- 💡 [优化建议]
- 📋 [需要进一步确认的事项]
```

## 评估原则

### 1. 宁可高估，不要低估
早期评估存在不确定性，偏向保守估计避免后期压力。

### 2. 分模块评估
避免整体拍脑袋，分模块评估更准确。

### 3. 考虑学习曲线
如果涉及新技术，额外增加 20-50% 学习时间。

### 4. 预留缓冲时间
标准估计基础上至少保留 20% 的缓冲时间。

### 5. 参考历史数据
如果有类似功能的开发经验，优先参考历史数据进行校准。

## 快速评估模式

对于特别早期的快速评估，可以使用简化流程：

1. **询问核心信息**（1 分钟）
2. **快速打分**（2 分钟）- 只评估整体复杂度（1-5 分）
3. **套用基准**（1 分钟）- 使用下表快速估算

| 整体复杂度 | 小型功能 | 中型功能 | 大型功能 |
|-----------|----------|----------|----------|
| 简单 (1-2) | 8-16h | 16-32h | 32-64h |
| 中等 (3) | 16-32h | 32-64h | 64-120h |
| 复杂 (4-5) | 32-64h | 64-120h | 120-240h |

4. **输出快速结论**：给出工时区间和主要风险点

## 注意事项

### 评估误区
- ❌ 忽略测试和调试时间
- ❌ 低估第三方库集成的复杂度
- ❌ 没有考虑需求变更的可能性
- ❌ 忽略代码质量和重构的时间

### 提高准确性的建议
- ✅ 定期回顾和校准评估模型
- ✅ 记录实际开发时间，建立个人基准数据库
- ✅ 与用户充分沟通确认需求理解
- ✅ 考虑自己的经验水平和当前状态

## 相关资源

如需更深入的评估方法，可以参考：
- 敏捷开发中的故事点评估法
- COCOMO 模型（适用于大型项目）
- Planning Poker 团队评估法（如果有团队）
