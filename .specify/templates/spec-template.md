# Feature 规格说明：[Feature 名称]

**Epic**：EPIC-[编号] - [名称]
**Feature 类型**：Product Feature / Platform/Capability Feature
**Feature ID**：FEAT-[编号或沿用分支号，例如 001]
**Feature Version**：v0.1.0
**功能分支**：`[###-feature-short-name]`
**创建时间**：[YYYY-MM-DD]
**状态**：草稿 / 待澄清 / 就绪（可进入 Plan） / 冻结（Implement 中）
**输入**：用户描述：`"$ARGUMENTS"`

## 背景与价值 *（必填）*

- **背景**：[为什么要做？当前痛点/机会是什么？]
- **目标**：[要达成什么结果？面向用户/业务/平台能力]
- **价值**：[对用户/业务/系统的价值与收益]
- **范围（In Scope）**：[明确包含的能力点]
- **范围外（Out of Scope）**：[明确不做的内容，避免范围漂移]

## 依赖关系 *（必填）*

- **上游依赖**：[其他系统/模块/Feature/团队/资源，含负责人/接口]
- **下游影响**：[会影响到的模块/用户/流程]
- **外部依赖故障模式**：[超时/限流/不可用/返回不一致等]

## 验收与场景 *（必填）*

> 说明：本节用于“可测试”的需求验收；**不等同于技术 Story**（技术 Story 在 Plan 阶段拆分）。

### 核心用户旅程（可选但强烈建议）

#### 旅程 1 - [简短标题]

- **描述**：[用通俗语言描述用户旅程]
- **成功信号**：[用户层面的完成定义]
- **验收场景**：
  1. **前提** [初始状态]，**当** [执行操作]，**则** [预期结果]
  2. **前提** [初始状态]，**当** [执行操作]，**则** [预期结果]

### 边界与异常场景（必填）

- [边界条件] → [期望行为/提示/降级]
- [错误场景] → [期望行为/可观测性/恢复策略]
- [并发/生命周期/状态竞争] → [期望行为]

## FR / NFR *（必填）*

### FR（Functional Requirements）

> 规则：每条 FR 必须**可测试**，避免“提升体验/更快/更稳定”这类不可验证表述。

- **FR-001**：[系统必须/用户必须能够……]
- **FR-002**：[系统必须/用户必须能够……]

### NFR（Non-Functional Requirements）

> 规则：每条 NFR 必须**量化**并附带验收方式；细化评估在 Plan 阶段完成。

#### 性能（Performance）

- **NFR-PERF-001**：[指标与阈值，例如：前台 p95 ≤ xxx ms；后台任务 ≤ xxx s；失败降级策略]

#### 功耗（Power）

- **NFR-POWER-001**：[Top5% 用户模型假设 + 每日 mAh 增量上限 + 触发条件/频次]

#### 内存（Memory）

- **NFR-MEM-001**：[峰值/平均增量上限 + 生命周期约束 + 回收策略要求]

#### 安全与隐私（Security/Privacy）

- **NFR-SEC-001**：[认证/授权/数据保护/合规要求]

#### 可观测性（Observability）

- **NFR-OBS-001**：[日志/指标/埋点/告警的最低要求]

#### 可靠性（Reliability）

- **NFR-REL-001**：[可用性/容错/恢复目标（如 RTO/RPO）]

## 验收标准（Feature Level）*（必填）*

- **AC-001**：[可验证的验收标准，引用 FR/NFR ID]
- **AC-002**：[可验证的验收标准，引用 FR/NFR ID]

## 核心实体（如涉及数据则必填）

- **[实体1]**：[含义、核心属性、关系（不写实现细节）]
- **[实体2]**：[含义、核心属性、关系（不写实现细节）]

## 假设与约束 *（必填）*

- **假设**：[若假设不成立会怎样？触发什么降级/回滚？]
- **约束**：[平台/版本/兼容性/法律合规等]

## 需求追溯（预留，Plan 后填写）

> 说明：此表在 Plan 的 Story Breakdown 完成后填写，用于确保 FR/NFR 被 Story 覆盖；Implement 不得擅自改写 FR/NFR。

| FR/NFR ID | 计划覆盖的 Story ID（Plan） | 任务覆盖（Tasks） | 备注 |
|---|---|---|---|
| FR-001 | ST-??? | T??? |  |