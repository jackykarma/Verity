# 需求质量检查清单：设置（含英式/美式发音切换）（FEAT-003）

**用途**：对 FEAT-003 设置的 spec.md 进行需求完整性与可验收性检查，确保可进入 Plan。
**创建时间**：2026-01-25
**关联**：[spec.md](../spec.md)

## 元信息与 Epic 追溯

- [ ] CHK001 Epic 已填写且与当前 EPIC 一致（EPIC-002）
- [ ] CHK002 Feature ID、Version、目录、EPIC 分支、状态、输入等元信息完整
- [ ] CHK003 输入描述与 `/speckit.feature` 的用户描述一致（发音偏好切换、持久化、查询、基础设置入口）

## 背景与价值

- [ ] CHK004 背景、目标、价值、In Scope、Out of Scope 均已填写
- [ ] CHK005 Out of Scope 明确排除：主题、字体、通知、账号、多语种；TTS 引擎实现与选型
- [ ] CHK006 In Scope 包含：发音偏好 UI 切换、持久化、查询、基础设置入口与导航

## 依赖关系

- [ ] CHK007 上游依赖：无；本地存储与 TTS 归属明确（能力层/各业务 Feature）
- [ ] CHK008 外部依赖故障模式：本地存储不可用时的降级与回退缺省值
- [ ] CHK009 下游影响：单词、听力、阅读（若朗读）、口语等模块及读取契约

## 验收与场景

- [ ] CHK010 至少一个核心用户旅程：进入设置→切换英/美→退出后仍生效→它模块可读到
- [ ] CHK011 边界与异常：首次安装/无历史、存储写入失败、进程被杀重启、并发读
- [ ] CHK012 验收场景写法为「前提」→「当」→「则」，可执行测试

## FR（功能需求）

- [ ] CHK013 每条 FR 可测试，无“提升体验”等不可验证表述
- [ ] CHK014 设置界面英式/美式切换：FR-001
- [ ] CHK015 偏好持久化与进程重启后保持：FR-002
- [ ] CHK016 对外查询接口/契约供它模块获取当前偏好：FR-003
- [ ] CHK017 基础设置入口与导航：FR-004

## NFR（非功能需求）

- [ ] CHK018 性能：设置页进入 ≤500ms、偏好读取 ≤50ms、写入不阻塞 UI（NFR-PERF-001）
- [ ] CHK019 功耗：无常驻、按需低频（NFR-POWER-001）
- [ ] CHK020 内存：键值级，无大对象（NFR-MEM-001）
- [ ] CHK021 安全与隐私：仅偏好枚举，本机存储（NFR-SEC-001）
- [ ] CHK022 可观测性：写入失败记日志，可选缺省命中（NFR-OBS-001）
- [ ] CHK023 可靠性：读不到则缺省美式，不崩溃、不阻塞启动（NFR-REL-001）

## 验收标准（AC）

- [ ] CHK024 每条 AC 引用 FR 或 NFR ID
- [ ] CHK025 切换与持久化闭环：英式↔美式切换、退出再进仍生效（AC-001）
- [ ] CHK026 至少一个使用发音的模块能读到偏好并用于播放（AC-002）
- [ ] CHK027 设置入口与返回导航（AC-003）
- [ ] CHK028 性能 AC：进入 ≤500ms、读取 ≤50ms（AC-004）

## 核心实体

- [ ] CHK029 发音偏好（PronunciationPreference）：英式/美式枚举、持久化键、缺省值、读取契约

## 假设与约束

- [ ] CHK030 假设：本地存储可用、TTS 由它方集成、用户具备基本操作能力
- [ ] CHK031 约束：Android 8.0+、本地仅本机、缺省美式、与 EPIC 一致

## 需求追溯与变更

- [ ] CHK032 需求追溯表已预留，FR/NFR 已列齐，Story 列待 Plan 后填写
- [ ] CHK033 变更记录有 v0.1.0 初始条目

## 注意事项

- 完成检查项后请标记为：`[x]`
- 可在对应位置添加备注或发现的问题
- 可附上相关资源或文档的链接
- 检查项按顺序编号，便于查阅引用
