# Feature 规格说明：阅读训练

**Epic**：EPIC-002 - Android 端英语学习 APP
**Feature 类型**：Product Feature
**Feature ID**：FEAT-002
**Feature Version**：v0.1.0
**EPIC 分支**：`epic/EPIC-002-android-english-learning`
**Feature 目录**：`specs/epics/EPIC-002-android-english-learning/features/FEAT-002-reading-training/`
**创建时间**：2026-01-25
**状态**：草稿
**输入**：用户描述：`"阅读训练：阅读材料、理解练习、生词与反馈；若支持朗读则遵循设置中的英式/美式发音偏好。"`

## 背景与价值 *（必填）*

- **背景**：用户需要通过阅读理解与词汇应用巩固输入型能力，与听力、单词形成学习闭环；阅读是备考与泛读场景的核心能力。
- **目标**：提供阅读文章、配套理解练习、生词释义与结果反馈的完整流程；若提供朗读，则与全局发音偏好一致。
- **价值**：帮助用户完成“读—练—记”闭环，提升理解力与词汇应用；与听力、单词模块形成输入与词汇联动。
- **范围（In Scope）**：阅读材料（文章/文本）的展示与导航；理解题或理解练习；生词释义与生词本（首版：加入、列表查看；无复习、无同步）；练习结果与反馈；朗读（文章与生词），TTS 需读取并遵循设置中的英式/美式发音偏好。
- **范围外（Out of Scope）**：阅读材料的 UGC、自适应难度、多模态（纯图/视频）；生词本复习、同步到单词模块；理解题多选、填空、简答等题型；与单词/听力模块的深度联动可作为后续迭代。

## 澄清内容

### 会话 2026-01-25

- 问题：首版是否实现"朗读"能力？ → 答案：首版做朗读（文章 + 生词均支持）
- 问题：首版"生词本"要做到哪一层？ → 答案：首版支持加入生词本 + 生词本列表查看（无复习/同步）
- 问题：首版阅读材料与理解题的大致规模？ → 答案：不设上限，由打包资源决定
- 问题：当阅读材料列表为空或生词本为空时，首版如何表现？ → 答案：展示空状态文案 + 明确引导（如「暂无阅读材料，敬请期待」/「生词本为空，阅读时点击生词可添加」）
- 问题：首版理解题的题型与作答方式？ → 答案：仅单选题（单选，选一选一）

## 依赖关系 *（必填）*

- **上游依赖**：依赖**设置** Feature：读取发音偏好（英式/美式）的持久化值与查询接口（首版支持文章与生词朗读）；本地存储用于阅读材料、生词数据与生词本持久化。
- **下游影响**：无直接下游；生词与进度数据可供后续与单词记忆等模块联动。
- **外部依赖故障模式**：TTS 不可用或超时时，朗读功能降级为隐藏或禁用，仅保留纯文本阅读；本地存储不可用时，无法保存生词或进度，需提示用户并仅提供当次会话能力。

## 验收与场景 *（必填）*

### 核心用户旅程（可选但强烈建议）

#### 旅程 1 - 完成单篇阅读与理解练习

- **描述**：用户选择一篇阅读材料，通读后完成配套理解题，查看答案与反馈，对生词进行释义或加入生词本。
- **成功信号**：用户能完成从选文、阅读、答题到查看反馈与生词的全流程，并获得可理解的正确率或得分反馈。
- **验收场景**：
  1. **前提** 已进入阅读训练模块，**当** 用户选择一篇材料并打开，**则** 文章以可读排版展示，支持滚动与基本导航。
  2. **前提** 用户已阅读文章，**当** 进入理解练习并作答，**则** 可提交并看到对错或得分反馈。
  3. **前提** 文章或题目中包含生词，**当** 用户点击生词或进入生词区，**则** 可查看释义或加入生词本；**当** 用户进入生词本入口，**则** 可查看已加入生词列表。

#### 旅程 2 - 使用朗读且遵循发音偏好

- **描述**：用户开启朗读功能，系统使用 TTS 朗读文章或生词，且口音与设置中的英式/美式偏好一致。
- **成功信号**：朗读的发音与用户在设置中选择的英式或美式一致；若设置未就绪，则按缺省（如美式）或明确提示。
- **验收场景**：
  1. **前提** 设置中发音偏好为美式，**当** 用户在阅读训练中触发朗读（文章或生词），**则** 听到美式发音。
  2. **前提** 用户将设置改为英式后返回阅读，**当** 再次触发朗读，**则** 听到英式发音（在一次操作或进程内生效，与 EPIC-FR-002 一致）。

### 边界与异常场景（必填）

- 文章过长或排版复杂 → 支持分页/分段或流畅滚动，避免卡顿；超长文的分段或分章节加载策略在 Plan 阶段根据打包资源确定。
- 理解题无答案或数据异常 → 不展示该题或展示“暂不可用”并记录；不因单题异常导致整篇不可用。
- 生词释义缺失 → 展示“暂无释义”或降级为仅显示原文；不阻塞阅读与练习流程。
- TTS 不可用或超时 → 朗读入口隐藏或置灰并提示；纯文本阅读与理解练习仍可用。
- 阅读材料列表为空 → 展示空状态文案与明确引导（如「暂无阅读材料，敬请期待」），不展示空白页或报错。
- 生词本为空 → 展示空状态文案与明确引导（如「生词本为空，阅读时点击生词可添加」），不展示空白页或报错。
- 并发/生命周期：从阅读切到设置改发音偏好后返回，朗读应读取最新偏好；进程被杀死后再次进入，朗读仍按持久化偏好生效。

## FR / NFR *（必填）*

### FR（Functional Requirements）

- **FR-001**：系统必须提供阅读材料的展示能力，支持至少一篇文章的完整文本展示、滚动或分页，以及进入/退出与基本导航。
- **FR-002**：系统必须提供与该阅读材料配套的理解题或理解练习；首版题型仅单选题（用户从选项中选一提交）；系统必须给出对错或得分等可理解的反馈。
- **FR-003**：系统必须支持生词的呈现与释义；用户可查看生词释义，可将生词加入生词本；首版生词本须支持加入与列表查看，不包含复习、同步到单词模块。
- **FR-004**：系统支持朗读（文章与生词）；TTS 必须读取设置中的发音偏好（英式/美式），并按该偏好合成或选择发音；若设置未就绪，则采用缺省（如美式）或明确提示用户。
- **FR-005**：用户必须能在完成练习后获得结果反馈（如正确率、得分、错题或解析摘要），以便判断完成度与改进方向。

### NFR（Non-Functional Requirements）

#### 性能（Performance）

- **NFR-PERF-001**：单篇文章加载并完成首屏渲染不超过 2 秒（中端机、本地或已缓存）；长文可分段加载，首段 ≤ 1 秒。与 EPIC-NFR-PERF-001 不冲突。
- **NFR-PERF-002**：TTS 首句开始播放的端到端延迟不超过 2 秒（与 EPIC-NFR-PERF-002 一致）；超时则降级为仅文本。

#### 功耗（Power）

- **NFR-POWER-001**：[需澄清] 阅读与 TTS 场景下，Top5% 用户每日 mAh 增量上限与典型阅读时长假设；Plan 阶段细化。

#### 内存（Memory）

- **NFR-MEM-001**：单次阅读会话（一篇文章 + 理解题 + 生词）内存增量不超过 50MB（P50，与 EPIC-NFR-MEM-001 协同）；退出阅读或切换材料时释放大块资源。

#### 安全与隐私（Security/Privacy）

- **NFR-SEC-001**：阅读材料与生词数据若落盘，须符合应用数据存储策略；不未经同意上传用户阅读内容；与 EPIC-NFR-SEC-001 一致。

#### 可观测性（Observability）

- **NFR-OBS-001**：首版可做关键路径轻量可观测（如加载失败、TTS 失败）；与 EPIC-NFR-OBS-001 一致，产品埋点可按迭代补充。

#### 可靠性（Reliability）

- **NFR-REL-001**：单篇文章或单次练习数据异常不导致模块崩溃；TTS 不可用时不阻塞纯文本阅读与理解练习。

## 验收标准（Feature Level）*（必填）*

- **AC-001**：用户能选择并打开至少一篇阅读材料，完整阅读并完成配套理解练习，且获得可理解的反馈（FR-001、FR-002、FR-005）。
- **AC-002**：用户能对文中或题中的生词查看释义，可将生词加入生词本，并能从生词本入口查看已加入生词列表（FR-003）。
- **AC-003**：用户在设置中选择英式或美式后，在阅读训练中触发的朗读（文章或生词）与该偏好一致；切换偏好后再次朗读在 1 次操作内生效（FR-004，EPIC-FR-002）。
- **AC-004**：单篇文章首屏渲染 ≤ 2 秒，TTS 首句播放 ≤ 2 秒（NFR-PERF-001、NFR-PERF-002）。
- **AC-005**：TTS 不可用时，朗读入口隐藏或置灰，纯文本阅读与理解练习可正常完成（NFR-REL-001、FR-001、FR-002）。
- **AC-006**：阅读材料列表为空时，展示空状态文案及引导（如「暂无阅读材料，敬请期待」）；生词本为空时，展示空状态文案及引导（如「生词本为空，阅读时点击生词可添加」）（边界与异常：空状态）。

## 核心实体（如涉及数据则必填）

- **阅读材料**：文章唯一标识、标题、正文、难度或标签（若有）、关联的理解题列表；来源为本地或打包资源，不含 UGC；篇数与单篇长度由打包资源决定，不设首版上限。
- **理解题**：题目 ID、题干、选项列表、正确答案（选项索引或选项 ID）、解析（若有）；与阅读材料多对一或一对一；每篇题量由打包资源决定；首版仅支持单选题（选一选一），多选/填空/简答等为后续迭代。
- **生词**：词条、释义、出处（文章 ID/题 ID）；可加入生词本，与生词本多对多（用户可重复加入同词，由实现决定是否去重）。
- **生词本**：用户加入的生词集合，首版支持加入与列表查看；持久化于本地；不包含复习、同步到单词模块。
- **发音偏好**：来自设置 Feature 的只读配置（英式/美式）；本 Feature 不持久化，仅读取。

## 假设与约束 *（必填）*

- **假设**：阅读材料与理解题为预置或打包资源，无强联网需求；材料与题目规模由打包资源决定，不设首版上限，Plan 阶段需就列表/分页与长文加载策略做适配；设置 Feature 先于或与本 Feature 同期交付（首版支持朗读，依赖发音偏好）；设备具备基础存储与 TTS 能力。
- **约束**：Android 8.0+ / API 26+；TTS 实现依赖系统或既定语音引擎，英/美口音支持以引擎能力为准；与 EPIC 上项范围一致。

## 需求追溯（预留，Plan 后填写）

| FR/NFR ID | 计划覆盖的 Story ID（Plan） | 任务覆盖（Tasks） | 备注 |
|---|---|---|---|
| FR-001 | ST-??? | T??? |  |
| FR-002 | ST-??? | T??? |  |
| FR-003 | ST-??? | T??? |  |
| FR-004 | ST-??? | T??? |  |
| FR-005 | ST-??? | T??? |  |
| NFR-PERF-001 | ST-??? | T??? |  |
| NFR-PERF-002 | ST-??? | T??? |  |
| NFR-POWER-001 | ST-??? | T??? |  |
| NFR-MEM-001 | ST-??? | T??? |  |
| NFR-SEC-001 | ST-??? | T??? |  |
| NFR-OBS-001 | ST-??? | T??? |  |
| NFR-REL-001 | ST-??? | T??? |  |

## 变更记录（增量变更）

| 版本 | 日期 | 变更范围 | 变更摘要 | 影响 | 是否需要回滚 |
|---|---|---|---|---|---|
| v0.1.0 | 2026-01-25 | 全文 | 初始版本 | — | 否 |
