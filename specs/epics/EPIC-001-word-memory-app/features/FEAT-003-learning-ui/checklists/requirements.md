# 需求质量检查清单：学习界面与交互

**用途**：检查 Feature FEAT-003 的需求规格说明完整性、可测试性和一致性  
**创建时间**：2026-01-19  
**功能**：[spec.md](../spec.md)

**说明**：本检查清单用于验证 Feature 规格说明的质量，确保需求可测试、可验收。

## 背景与价值

- [ ] 背景描述清晰，说明了为什么需要这个 Feature
- [ ] 目标明确，包含用户/业务/平台目标
- [ ] 价值说明清楚，包含用户/业务/技术价值
- [ ] In Scope 和 Out of Scope 明确，边界清晰

## 依赖关系

- [ ] 上游依赖已识别（词库管理/算法引擎/多媒体支持/数据管理）
- [ ] 下游影响已说明（统计、游戏化等）
- [ ] 外部依赖故障模式已考虑（空任务、提交失败、多媒体失败）

## 验收与场景

- [ ] 核心用户旅程清晰，包含成功信号
- [ ] 验收场景可测试（前提-当-则格式）
- [ ] 边界与异常场景覆盖完整（空状态、失败重试、生命周期、无障碍等）

## FR（功能需求）

- [ ] FR-001：入口与第 1 张卡片展示可测试
- [ ] FR-002：答案默认隐藏、显示答案可测试
- [ ] FR-003：认识/不认识/跳过三类反馈可测试
- [ ] FR-004：提交反馈后切题与进度更新可测试
- [ ] FR-005：按钮与手势一致性可测试
- [ ] FR-006：防重复提交与失败重试可测试
- [ ] FR-007：完成页展示与返回可测试
- [ ] FR-008：中断与继续（后台/旋转/返回确认）可测试
- [ ] FR-009：发音入口可用性与降级可测试
- [ ] FR-010：图片/例句等扩展信息展示与缺失降级可测试

## NFR（非功能需求）

### 性能

- [ ] NFR-PERF-001：首帧与切题耗时阈值已量化（p95 ≤ 500ms / 100ms）
- [ ] NFR-PERF-002：长帧占比已量化（≤ 1%）

### 功耗

- [ ] NFR-POWER-001：电量增量已量化（≤ 5mAh/天，Top5% 用户）且无多余 wakelock

### 内存

- [ ] NFR-MEM-001：峰值内存预算已量化（≤ 30MB）且离开页面释放大对象引用

### 安全与隐私

- [ ] NFR-SEC-001：本地存储与日志脱敏要求明确（不记录完整释义文本）

### 可观测性

- [ ] NFR-OBS-001：关键事件已定义（进入/退出、显示答案、提交反馈、完成、失败）
- [ ] NFR-OBS-002：关键错误可定位字段已要求（会话类型、题序、词库 ID）

### 可靠性

- [ ] NFR-REL-001：稳定性指标已量化（crash-free 会话率 ≥ 99.9%，提交成功率 ≥ 99.5%）
- [ ] NFR-REL-002：进程回收后的恢复策略与回退边界明确（不回退超过 1 题）

## 验收标准

- [ ] AC-001 至 AC-012 都引用了对应的 FR/NFR ID
- [ ] 每个验收标准可验证（有明确的测试方法或可观测口径）

## 核心实体

- [ ] StudyTask / LearningSession / CardViewState / UserRating 定义清晰（含义、核心属性、关系）

## 接口与数据契约（补充关卡）

- [ ] 与算法引擎的接口契约清晰：获取任务/提交反馈的入参出参、错误类型语义、幂等与重试约束
- [ ] 与多媒体能力的接入契约清晰：资源可用性判断、失败降级与重试策略
- [ ] 与统计/游戏化的事件口径清晰：事件名、字段（不含敏感内容）、采样与触发时机

## 假设与约束

- [ ] 假设已列出（算法可用、词库字段完整、多媒体可缺失）
- [ ] 约束已明确（Android 8+、Compose、可访问性、隐私）

## 完整性检查

- [ ] Epic 字段已填写（EPIC-001）
- [ ] Feature 类型已填写（Product Feature）
- [ ] Feature ID 已填写（FEAT-003）
- [ ] 创建时间和状态已填写
- [ ] 输入描述已填写

## 注意事项

- 完成检查项后请标记为：`[x]`
- 可在对应位置添加备注或发现的问题
- 可附上相关资源或文档的链接
